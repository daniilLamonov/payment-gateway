{"ast":null,"code":"var _jsxFileName = \"/Users/daniil/Documents/Code/PycharmProjects/payment-gateway/frontend/src/components/PaymentPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { QRCodeSVG } from 'qrcode.react';\nimport { checkPaymentStatus, createPayment } from '../api';\nimport './PaymentPage.css';\nimport sbpIcon from '../assets/SBP.png';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PaymentPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const SESSION_DURATION = 5 * 60;\n  const PAGE_SESSION_DURATION = 5 * 60;\n  const [sessionId] = useState(() => {\n    return Math.floor(Math.random() * 90000000000000) + 10000000000000;\n  });\n  const [pageTimeLeft, setPageTimeLeft] = useState(PAGE_SESSION_DURATION);\n  const [paymentData, setPaymentData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [linkTimeLeft, setLinkTimeLeft] = useState(null);\n  const [showQR, setShowQR] = useState(false);\n  const [systemStatus, setSystemStatus] = useState(null);\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  // –¢–∞–π–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã\n  useEffect(() => {\n    if (pageTimeLeft === 0) {\n      window.location.reload();\n      return;\n    }\n    const timer = setInterval(() => {\n      setPageTimeLeft(prev => prev > 0 ? prev - 1 : 0);\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [pageTimeLeft]);\n\n  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ\n  useEffect(() => {\n    checkStatus();\n  }, []);\n  const checkStatus = async () => {\n    try {\n      const status = await checkPaymentStatus();\n      setSystemStatus(status);\n      if (!status.available) {\n        // –°–∏—Å—Ç–µ–º–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ - —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—à–∏–±–∫–∏\n        navigate(`/payment-error?type=${status.reason}&message=${encodeURIComponent(status.message)}`);\n      }\n    } catch (err) {\n      console.error('Status check error:', err);\n    }\n  };\n\n  // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞\n  const autoRefreshPayment = useCallback(async () => {\n    console.log('üîÑ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞...');\n    try {\n      const data = await createPayment();\n      if (!data.success || !data.available) {\n        // –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–ª–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞\n        navigate(`/payment-error?type=${data.reason}&message=${encodeURIComponent(data.message)}`);\n        return;\n      }\n      setPaymentData(data);\n      setLinkTimeLeft(SESSION_DURATION);\n    } catch (err) {\n      console.error('–û—à–∏–±–∫–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:', err);\n      setError('–û—à–∏–±–∫–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞');\n    }\n  }, [SESSION_DURATION, navigate]);\n\n  // –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞\n  useEffect(() => {\n    const fetchPayment = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        const data = await createPayment();\n        if (!data.success || !data.available) {\n          navigate(`/payment-error?type=${data.reason}&message=${encodeURIComponent(data.message)}`);\n          return;\n        }\n        setPaymentData(data);\n        setLinkTimeLeft(SESSION_DURATION);\n      } catch (err) {\n        setError('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–ª–∞—Ç–µ–∂–∞');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchPayment();\n  }, [SESSION_DURATION, navigate]);\n\n  // –û—Ç–∫—Ä—ã—Ç–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–ø–ª–∞—Ç—É\n  const handleOpenPayment = () => {\n    if (paymentData !== null && paymentData !== void 0 && paymentData.payment_url) {\n      window.open(paymentData.payment_url, '_blank');\n    }\n  };\n\n  // –¢–∞–π–º–µ—Ä –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Å—ã–ª–∫–∏\n  useEffect(() => {\n    if (linkTimeLeft === null || linkTimeLeft < 0) return;\n    if (linkTimeLeft === 0) {\n      autoRefreshPayment();\n      return;\n    }\n    const timer = setInterval(() => {\n      setLinkTimeLeft(prev => prev > 0 ? prev - 1 : 0);\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [linkTimeLeft, autoRefreshPayment]);\n\n  // –ü–æ–∫–∞–∑–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å QR\n  const handleGenerateQR = async () => {\n    if (!showQR) {\n      // –ü—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π QR\n      setShowQR(true);\n    } else {\n      // –û–±–Ω–æ–≤–ª—è–µ–º –ø–ª–∞—Ç–µ–∂\n      setLoading(true);\n      setError(null);\n      try {\n        const data = await createPayment();\n        if (!data.success || !data.available) {\n          navigate(`/payment-error?type=${data.reason}&message=${encodeURIComponent(data.message)}`);\n          return;\n        }\n        setPaymentData(data);\n        setLinkTimeLeft(SESSION_DURATION);\n      } catch (err) {\n        setError('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ QR-–∫–æ–¥–∞');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"payment-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"payment-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0430 \\u0447\\u0435\\u0440\\u0435\\u0437 \\u0421\\u0411\\u041F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"subtitle\",\n          children: [\"\\u0421\\u0435\\u0441\\u0441\\u0438\\u044F: \", sessionId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"subtitle\",\n          children: [\"\\u0417\\u0430\\u0432\\u0435\\u0440\\u0448\\u0438\\u0442\\u0435 \\u043F\\u043B\\u0430\\u0442\\u0435\\u0436 \\u0432 \\u0442\\u0435\\u0447\\u0435\\u043D\\u0438\\u0438: \", formatTime(pageTimeLeft)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), linkTimeLeft !== null && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"subtitle\",\n          children: [\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u0430: \", formatTime(linkTimeLeft)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"primary-payment\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"primary-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0438\\u0442\\u044C \\u0432 \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0438 \\u0431\\u0430\\u043D\\u043A\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"primary-subtitle\",\n            children: \"\\u0411\\u044B\\u0441\\u0442\\u0440\\u044B\\u0439 \\u0438 \\u0443\\u0434\\u043E\\u0431\\u043D\\u044B\\u0439 \\u0441\\u043F\\u043E\\u0441\\u043E\\u0431\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary btn-large btn-featured\",\n          onClick: handleOpenPayment,\n          disabled: loading || !paymentData,\n          children: loading ? '‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞...' : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: sbpIcon,\n              alt: \"\",\n              className: \"btn-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this), \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C \\u0431\\u0430\\u043D\\u043A\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"divider\",\n        children: \"\\u0438\\u043B\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"secondary-payment\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary btn-small\",\n          onClick: handleGenerateQR,\n          disabled: loading || !paymentData,\n          children: showQR ? '–û–±–Ω–æ–≤–∏—Ç—å QR-–∫–æ–¥' : '–ü–æ–∫–∞–∑–∞—Ç—å QR-–∫–æ–¥ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), paymentData && showQR && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"qr-display\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"qr-content\",\n            children: [/*#__PURE__*/_jsxDEV(QRCodeSVG, {\n              value: paymentData.payment_url,\n              size: 200,\n              level: \"H\",\n              includeMargin: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"qr-instruction\",\n              children: \"\\u041E\\u0442\\u0441\\u043A\\u0430\\u043D\\u0438\\u0440\\u0443\\u0439\\u0442\\u0435 \\u043A\\u0430\\u043C\\u0435\\u0440\\u043E\\u0439 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"warning-section\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"warning-box\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"warning-icon\",\n                  children: \"\\u26A0\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"warning-content\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: \"\\u0412\\u0410\\u0416\\u041D\\u041E!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"QR - \\u043A\\u043E\\u0434 \\u043E\\u0431\\u043D\\u043E\\u0432\\u043B\\u044F\\u0435\\u0442\\u0441\\u044F \\u043A\\u0430\\u0436\\u0434\\u044B\\u0435 5 \\u043C\\u0438\\u043D\\u0443\\u0442, \\u043E\\u043F\\u043B\\u0430\\u0442\\u0430 \\u043F\\u043E \\u0438\\u0441\\u0442\\u0451\\u043A\\u0448\\u0438\\u043C \\u0440\\u0435\\u043A\\u0432\\u0438\\u0437\\u0438\\u0442\\u0430\\u043C \\u043C\\u043E\\u0436\\u0435\\u0442 \\u043F\\u0440\\u0438\\u0432\\u0435\\u0441\\u0442\\u0438 \\u043A \\u043F\\u043E\\u0442\\u0435\\u0440\\u0435 \\u0441\\u0440\\u0435\\u0434\\u0441\\u0442\\u0432.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 227,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-section\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"error-icon\",\n            children: \"\\u26A0\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"faq-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0427\\u0430\\u0441\\u0442\\u044B\\u0435 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u044B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"details\", {\n          className: \"faq-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n            children: \"\\u041A\\u0430\\u043A \\u043E\\u043F\\u043B\\u0430\\u0442\\u0438\\u0442\\u044C \\u0447\\u0435\\u0440\\u0435\\u0437 \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0435 \\u0431\\u0430\\u043D\\u043A\\u0430?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u041D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 \\\"\\u0412\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C \\u0431\\u0430\\u043D\\u043A\\\", \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0430 \\u043E\\u0442\\u043A\\u0440\\u043E\\u0435\\u0442 \\u0441\\u043F\\u0438\\u0441\\u043E\\u043A \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0445 \\u0431\\u0430\\u043D\\u043A\\u043E\\u0432 \\u0434\\u043B\\u044F \\u043E\\u043F\\u043B\\u0430\\u0442\\u044B \\u0447\\u0435\\u0440\\u0435\\u0437 \\u0421\\u0411\\u041F.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"details\", {\n          className: \"faq-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n            children: \"\\u0417\\u0430\\u0447\\u0435\\u043C \\u043D\\u0443\\u0436\\u0435\\u043D QR-\\u043A\\u043E\\u0434?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"QR-\\u043A\\u043E\\u0434 \\u2014 \\u0430\\u043B\\u044C\\u0442\\u0435\\u0440\\u043D\\u0430\\u0442\\u0438\\u0432\\u043D\\u044B\\u0439 \\u0441\\u043F\\u043E\\u0441\\u043E\\u0431 \\u043E\\u043F\\u043B\\u0430\\u0442\\u044B. \\u041E\\u0442\\u0441\\u043A\\u0430\\u043D\\u0438\\u0440\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0433\\u043E \\u043A\\u0430\\u043C\\u0435\\u0440\\u043E\\u0439 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430, \\u0435\\u0441\\u043B\\u0438 \\u043D\\u0435 \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C \\u043A\\u043D\\u043E\\u043F\\u043A\\u0443 \\u0432\\u044B\\u0431\\u043E\\u0440\\u0430 \\u0431\\u0430\\u043D\\u043A\\u0430.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"details\", {\n          className: \"faq-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n            children: \"\\u0412 \\u043A\\u0430\\u043A\\u0438\\u0435 \\u0447\\u0430\\u0441\\u044B \\u043F\\u0440\\u0438\\u043D\\u0438\\u043C\\u0430\\u044E\\u0442\\u0441\\u044F \\u043F\\u043B\\u0430\\u0442\\u0435\\u0436\\u0438?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u041F\\u043B\\u0430\\u0442\\u0435\\u0436\\u0438 \\u043F\\u0440\\u0438\\u043D\\u0438\\u043C\\u0430\\u044E\\u0442\\u0441\\u044F \\u0435\\u0436\\u0435\\u0434\\u043D\\u0435\\u0432\\u043D\\u043E \\u0441 10:00 \\u0434\\u043E 21:00 \\u043F\\u043E \\u043C\\u043E\\u0441\\u043A\\u043E\\u0432\\u0441\\u043A\\u043E\\u043C\\u0443 \\u0432\\u0440\\u0435\\u043C\\u0435\\u043D\\u0438.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n};\n_s(PaymentPage, \"bvqtsNn3ui2E8stuXWSzLfI0puQ=\", false, function () {\n  return [useNavigate];\n});\n_c = PaymentPage;\nexport default PaymentPage;\nvar _c;\n$RefreshReg$(_c, \"PaymentPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","QRCodeSVG","checkPaymentStatus","createPayment","sbpIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","PaymentPage","_s","navigate","SESSION_DURATION","PAGE_SESSION_DURATION","sessionId","Math","floor","random","pageTimeLeft","setPageTimeLeft","paymentData","setPaymentData","loading","setLoading","error","setError","linkTimeLeft","setLinkTimeLeft","showQR","setShowQR","systemStatus","setSystemStatus","formatTime","seconds","mins","secs","toString","padStart","window","location","reload","timer","setInterval","prev","clearInterval","checkStatus","status","available","reason","encodeURIComponent","message","err","console","autoRefreshPayment","log","data","success","fetchPayment","handleOpenPayment","payment_url","open","handleGenerateQR","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","src","alt","value","size","level","includeMargin","_c","$RefreshReg$"],"sources":["/Users/daniil/Documents/Code/PycharmProjects/payment-gateway/frontend/src/components/PaymentPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { QRCodeSVG } from 'qrcode.react';\nimport { checkPaymentStatus, createPayment } from '../api';\nimport './PaymentPage.css';\nimport sbpIcon from '../assets/SBP.png';\n\nconst PaymentPage = () => {\n  const navigate = useNavigate();\n  const SESSION_DURATION = 5 * 60;\n  const PAGE_SESSION_DURATION = 5 * 60;\n\n  const [sessionId] = useState(() => {\n    return Math.floor(Math.random() * 90000000000000) + 10000000000000;\n  });\n\n  const [pageTimeLeft, setPageTimeLeft] = useState(PAGE_SESSION_DURATION);\n  const [paymentData, setPaymentData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [linkTimeLeft, setLinkTimeLeft] = useState(null);\n  const [showQR, setShowQR] = useState(false);\n  const [systemStatus, setSystemStatus] = useState(null);\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  // –¢–∞–π–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã\n  useEffect(() => {\n    if (pageTimeLeft === 0) {\n      window.location.reload();\n      return;\n    }\n    const timer = setInterval(() => {\n      setPageTimeLeft((prev) => (prev > 0 ? prev - 1 : 0));\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [pageTimeLeft]);\n\n  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ\n  useEffect(() => {\n    checkStatus();\n  }, []);\n\n  const checkStatus = async () => {\n    try {\n      const status = await checkPaymentStatus();\n      setSystemStatus(status);\n\n      if (!status.available) {\n        // –°–∏—Å—Ç–µ–º–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ - —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—à–∏–±–∫–∏\n        navigate(`/payment-error?type=${status.reason}&message=${encodeURIComponent(status.message)}`);\n      }\n    } catch (err) {\n      console.error('Status check error:', err);\n    }\n  };\n\n  // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞\n  const autoRefreshPayment = useCallback(async () => {\n    console.log('üîÑ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞...');\n    try {\n      const data = await createPayment();\n\n      if (!data.success || !data.available) {\n        // –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–ª–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞\n        navigate(`/payment-error?type=${data.reason}&message=${encodeURIComponent(data.message)}`);\n        return;\n      }\n\n      setPaymentData(data);\n      setLinkTimeLeft(SESSION_DURATION);\n    } catch (err) {\n      console.error('–û—à–∏–±–∫–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:', err);\n      setError('–û—à–∏–±–∫–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞');\n    }\n  }, [SESSION_DURATION, navigate]);\n\n  // –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞\n  useEffect(() => {\n    const fetchPayment = async () => {\n      setLoading(true);\n      setError(null);\n\n      try {\n        const data = await createPayment();\n\n        if (!data.success || !data.available) {\n          navigate(`/payment-error?type=${data.reason}&message=${encodeURIComponent(data.message)}`);\n          return;\n        }\n\n        setPaymentData(data);\n        setLinkTimeLeft(SESSION_DURATION);\n      } catch (err) {\n        setError('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–ª–∞—Ç–µ–∂–∞');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchPayment();\n  }, [SESSION_DURATION, navigate]);\n\n  // –û—Ç–∫—Ä—ã—Ç–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –æ–ø–ª–∞—Ç—É\n  const handleOpenPayment = () => {\n    if (paymentData?.payment_url) {\n      window.open(paymentData.payment_url, '_blank');\n    }\n  };\n\n  // –¢–∞–π–º–µ—Ä –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Å—ã–ª–∫–∏\n  useEffect(() => {\n    if (linkTimeLeft === null || linkTimeLeft < 0) return;\n\n    if (linkTimeLeft === 0) {\n      autoRefreshPayment();\n      return;\n    }\n\n    const timer = setInterval(() => {\n      setLinkTimeLeft((prev) => (prev > 0 ? prev - 1 : 0));\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, [linkTimeLeft, autoRefreshPayment]);\n\n  // –ü–æ–∫–∞–∑–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å QR\n  const handleGenerateQR = async () => {\n    if (!showQR) {\n      // –ü—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π QR\n      setShowQR(true);\n    } else {\n      // –û–±–Ω–æ–≤–ª—è–µ–º –ø–ª–∞—Ç–µ–∂\n      setLoading(true);\n      setError(null);\n\n      try {\n        const data = await createPayment();\n\n        if (!data.success || !data.available) {\n          navigate(`/payment-error?type=${data.reason}&message=${encodeURIComponent(data.message)}`);\n          return;\n        }\n\n        setPaymentData(data);\n        setLinkTimeLeft(SESSION_DURATION);\n      } catch (err) {\n        setError('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ QR-–∫–æ–¥–∞');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  return (\n    <div className=\"payment-page\">\n      <div className=\"payment-container\">\n        <div className=\"header\">\n          <h1>–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –°–ë–ü</h1>\n          <p className=\"subtitle\">–°–µ—Å—Å–∏—è: {sessionId}</p>\n          <p className=\"subtitle\">–ó–∞–≤–µ—Ä—à–∏—Ç–µ –ø–ª–∞—Ç–µ–∂ –≤ —Ç–µ—á–µ–Ω–∏–∏: {formatTime(pageTimeLeft)}</p>\n          {linkTimeLeft !== null && (\n            <p className=\"subtitle\">–°—Å—ã–ª–∫–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞: {formatTime(linkTimeLeft)}</p>\n          )}\n        </div>\n\n        {/* –û–°–ù–û–í–ù–û–ô –°–ü–û–°–û–ë –û–ü–õ–ê–¢–´ */}\n        <div className=\"primary-payment\">\n          <div className=\"primary-header\">\n            <h2>–û–ø–ª–∞—Ç–∏—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –±–∞–Ω–∫–∞</h2>\n            <p className=\"primary-subtitle\">–ë—ã—Å—Ç—Ä—ã–π –∏ —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–±</p>\n          </div>\n\n          <button\n            className=\"btn btn-primary btn-large btn-featured\"\n            onClick={handleOpenPayment}\n            disabled={loading || !paymentData}\n          >\n            {loading ? '‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞...' : (\n              <>\n                <img src={sbpIcon} alt=\"\" className=\"btn-icon\" />\n                –í—ã–±—Ä–∞—Ç—å –±–∞–Ω–∫\n              </>\n            )}\n          </button>\n        </div>\n\n        {/* –†–ê–ó–î–ï–õ–ò–¢–ï–õ–¨ */}\n        <div className=\"divider\">–∏–ª–∏</div>\n\n        {/* –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ô –°–ü–û–°–û–ë - QR –ö–û–î */}\n        <div className=\"secondary-payment\">\n          <button\n            className=\"btn btn-secondary btn-small\"\n            onClick={handleGenerateQR}\n            disabled={loading || !paymentData}\n          >\n            {showQR ? '–û–±–Ω–æ–≤–∏—Ç—å QR-–∫–æ–¥' : '–ü–æ–∫–∞–∑–∞—Ç—å QR-–∫–æ–¥ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è'}\n          </button>\n\n          {paymentData && showQR && (\n            <div className=\"qr-display\">\n              <div className=\"qr-content\">\n                <QRCodeSVG\n                  value={paymentData.payment_url}\n                  size={200}\n                  level=\"H\"\n                  includeMargin={true}\n                />\n                <p className=\"qr-instruction\">\n                  –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ –∫–∞–º–µ—Ä–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω–∞\n                </p>\n\n                {/* –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï */}\n                <div className=\"warning-section\">\n                    <div className=\"warning-box\">\n                        <div className=\"warning-icon\">‚ö†Ô∏è</div>\n                        <div className=\"warning-content\">\n                            <h3>–í–ê–ñ–ù–û!</h3>\n                            <p>\n                                <strong>QR - –∫–æ–¥ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç, –æ–ø–ª–∞—Ç–∞ –ø–æ –∏—Å—Ç—ë–∫—à–∏–º —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ —Å—Ä–µ–¥—Å—Ç–≤.</strong>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* –û–®–ò–ë–ö–ê */}\n        {error && (\n          <div className=\"error-section\">\n            <div className=\"error-box\">\n              <span className=\"error-icon\">‚ö†Ô∏è</span>\n              <p>{error}</p>\n            </div>\n          </div>\n        )}\n\n        {/* FAQ */}\n        <div className=\"faq-section\">\n          <h3>–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h3>\n          <details className=\"faq-item\">\n            <summary>–ö–∞–∫ –æ–ø–ª–∞—Ç–∏—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–∞–Ω–∫–∞?</summary>\n            <p>–ù–∞–∂–º–∏—Ç–µ \"–í—ã–±—Ä–∞—Ç—å –±–∞–Ω–∫\", —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–∫—Ä–æ–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±–∞–Ω–∫–æ–≤ –¥–ª—è –æ–ø–ª–∞—Ç—ã —á–µ—Ä–µ–∑ –°–ë–ü.</p>\n          </details>\n          <details className=\"faq-item\">\n            <summary>–ó–∞—á–µ–º –Ω—É–∂–µ–Ω QR-–∫–æ–¥?</summary>\n            <p>QR-–∫–æ–¥ ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã. –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ –µ–≥–æ –∫–∞–º–µ—Ä–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –µ—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –≤—ã–±–æ—Ä–∞ –±–∞–Ω–∫–∞.</p>\n          </details>\n          <details className=\"faq-item\">\n            <summary>–í –∫–∞–∫–∏–µ —á–∞—Å—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –ø–ª–∞—Ç–µ–∂–∏?</summary>\n            <p>–ü–ª–∞—Ç–µ–∂–∏ –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ —Å 10:00 –¥–æ 21:00 –ø–æ –º–æ—Å–∫–æ–≤—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏.</p>\n          </details>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PaymentPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}